<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-code-docs/restful-api/api-architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">🚀 Vertical Slice Architecture in .NET 9 | C I B I</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://RusselG21.github.io/CIBI_General_Documentation/img/CIBI-LOGO.png"><meta data-rh="true" name="twitter:image" content="https://RusselG21.github.io/CIBI_General_Documentation/img/CIBI-LOGO.png"><meta data-rh="true" property="og:url" content="https://RusselG21.github.io/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="🚀 Vertical Slice Architecture in .NET 9 | C I B I"><meta data-rh="true" name="description" content="📌 Introduction"><meta data-rh="true" property="og:description" content="📌 Introduction"><link data-rh="true" rel="icon" href="/CIBI_General_Documentation/img/CIBI-LOGO.png"><link data-rh="true" rel="canonical" href="https://RusselG21.github.io/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture"><link data-rh="true" rel="alternate" href="https://RusselG21.github.io/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://RusselG21.github.io/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/CIBI_General_Documentation/blog/rss.xml" title="C I B I RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/CIBI_General_Documentation/blog/atom.xml" title="C I B I Atom Feed"><link rel="stylesheet" href="/CIBI_General_Documentation/assets/css/styles.6dcbe190.css">
<script src="/CIBI_General_Documentation/assets/js/runtime~main.0ca59140.js" defer="defer"></script>
<script src="/CIBI_General_Documentation/assets/js/main.8dc83bdf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/CIBI_General_Documentation/img/CIBI-LOGO.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/CIBI_General_Documentation/"><div class="navbar__logo"><img src="/CIBI_General_Documentation/img/CIBI-LOGO.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/CIBI_General_Documentation/img/CIBI-LOGO.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture">Code Docs</a><a class="navbar__item navbar__link" href="/CIBI_General_Documentation/docs/user-docs/soap-api/intro">User Docs</a><a class="navbar__item navbar__link" href="/CIBI_General_Documentation/docs/general-knowledge/intro">General Knowledge</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/RusselG21/CIBI_General_Documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture">RESTFUL API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture">🚀 Vertical Slice Architecture in .NET 9</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/CIBI_General_Documentation/docs/code-docs/soap-api/intro">SOAP API</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/CIBI_General_Documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">RESTFUL API</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">🚀 Vertical Slice Architecture in .NET 9</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>🚀 Vertical Slice Architecture in .NET 9</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-introduction">📌 Introduction<a href="#-introduction" class="hash-link" aria-label="Direct link to 📌 Introduction" title="Direct link to 📌 Introduction">​</a></h2>
<p>Vertical Slice Architecture is a way of structuring applications by focusing on features rather than layers. Instead of dividing the project into traditional horizontal layers (Controllers, Services, Repositories, etc.), we organize it by features, making it more modular, maintainable, and scalable.</p>
<p>In this guide, we will build a .NET 9 project using Vertical Slice Architecture. We will use:</p>
<ul>
<li>📌 <strong>Entity Framework Core</strong> for writing data</li>
<li>⚡ <strong>Dapper</strong> for reading data</li>
<li>📢 <strong>MediatR</strong> with <strong>IPipelineBehavior</strong> for request handling and error logging</li>
<li>🔥 <strong>Carter</strong> for Minimal APIs</li>
<li>🔄 <strong>Mapster</strong> for mapping DTOs</li>
<li>✅ <strong>XUnit</strong> and <strong>FluentAssertions</strong> for testing</li>
</ul>
<p>Additionally, we will centralize all package dependencies into a separate <strong>Building Blocks</strong> project for better maintainability and to facilitate microservices transition.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-required-packages-and-explanations">📦 Required Packages and Explanations<a href="#-required-packages-and-explanations" class="hash-link" aria-label="Direct link to 📦 Required Packages and Explanations" title="Direct link to 📦 Required Packages and Explanations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-install-required-packages">📥 Install Required Packages<a href="#-install-required-packages" class="hash-link" aria-label="Direct link to 📥 Install Required Packages" title="Direct link to 📥 Install Required Packages">​</a></h3>
<p>To install all necessary packages, run the following CLI command:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package Carter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package MediatR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package MediatR.Extensions.Microsoft.DependencyInjection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package Mapster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package Mapster.DependencyInjection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package Microsoft.EntityFrameworkCore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package Microsoft.EntityFrameworkCore.SqlServer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package Dapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package Serilog.AspNetCore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package XUnit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> dotnet add package FluentAssertions</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-carter">🔥 <strong>Carter</strong><a href="#-carter" class="hash-link" aria-label="Direct link to -carter" title="Direct link to -carter">​</a></h3>
<p>A library for creating Minimal APIs in .NET with more flexibility.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class OrderModule : CarterModule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public OrderModule() : base(&quot;/orders&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Get(&quot;/&quot;, async (IMediator mediator) =&gt; await mediator.Send(new GetOrdersQuery()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-mediatr--mediatrextensionsmicrosoftdependencyinjection">📢 <strong>MediatR &amp; MediatR.Extensions.Microsoft.DependencyInjection</strong><a href="#-mediatr--mediatrextensionsmicrosoftdependencyinjection" class="hash-link" aria-label="Direct link to -mediatr--mediatrextensionsmicrosoftdependencyinjection" title="Direct link to -mediatr--mediatrextensionsmicrosoftdependencyinjection">​</a></h3>
<p>Implements the CQRS pattern and enables handlers for request/response patterns.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class CreateOrderCommand : IRequest&lt;int&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string ProductName { get; set; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int Quantity { get; set; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-mapster--mapsterdependencyinjection">🔄 <strong>Mapster &amp; Mapster.DependencyInjection</strong><a href="#-mapster--mapsterdependencyinjection" class="hash-link" aria-label="Direct link to -mapster--mapsterdependencyinjection" title="Direct link to -mapster--mapsterdependencyinjection">​</a></h3>
<p>Used for mapping DTOs to entities efficiently.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MappingProfiles : IRegister</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Register(TypeAdapterConfig config)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.NewConfig&lt;Order, OrderDto&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-entity-framework-core">🏗 <strong>Entity Framework Core</strong><a href="#-entity-framework-core" class="hash-link" aria-label="Direct link to -entity-framework-core" title="Direct link to -entity-framework-core">​</a></h3>
<p>For writing data and managing database operations.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class AppDbContext : DbContext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public AppDbContext(DbContextOptions&lt;AppDbContext&gt; options) : base(options) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public DbSet&lt;Order&gt; Orders { get; set; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-dapper">⚡ <strong>Dapper</strong><a href="#-dapper" class="hash-link" aria-label="Direct link to -dapper" title="Direct link to -dapper">​</a></h3>
<p>Lightweight ORM for optimized read operations.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class DapperContext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly IConfiguration _configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public DapperContext(IConfiguration configuration) =&gt; _configuration = configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public IDbConnection CreateConnection() =&gt; new SqlConnection(_configuration.GetConnectionString(&quot;DefaultConnection&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-serilogaspnetcore">📊 <strong>Serilog.AspNetCore</strong><a href="#-serilogaspnetcore" class="hash-link" aria-label="Direct link to -serilogaspnetcore" title="Direct link to -serilogaspnetcore">​</a></h3>
<p>Logging middleware for request tracing and error handling.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class LoggingMiddleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly RequestDelegate _next;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public LoggingMiddleware(RequestDelegate next) =&gt; _next = next;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task Invoke(HttpContext context, ILogger&lt;LoggingMiddleware&gt; logger)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.LogInformation(&quot;Handling request: {Path}&quot;, context.Request.Path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await _next(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-fluentassertions--xunit">✅ <strong>FluentAssertions &amp; XUnit</strong><a href="#-fluentassertions--xunit" class="hash-link" aria-label="Direct link to -fluentassertions--xunit" title="Direct link to -fluentassertions--xunit">​</a></h3>
<p>For unit testing with fluent syntax.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class OrderTests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Fact]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Should_Create_Order()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var order = new Order { ProductName = &quot;Laptop&quot;, Quantity = 1 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        order.Should().NotBeNull();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        order.ProductName.Should().Be(&quot;Laptop&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        order.Quantity.Should().Be(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-folder-structure">📂 Folder Structure<a href="#-folder-structure" class="hash-link" aria-label="Direct link to 📂 Folder Structure" title="Direct link to 📂 Folder Structure">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">📂 MyProject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┣ 📂 src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┣ 📂 Features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📂 Orders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📂 CreateOrder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 CreateOrderCommand.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 CreateOrderHandler.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 CreateOrderEndpoint.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📂 UpdateOrder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 UpdateOrderCommand.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 UpdateOrderHandler.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 UpdateOrderEndpoint.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📂 DeleteOrder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 DeleteOrderCommand.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 DeleteOrderHandler.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 DeleteOrderEndpoint.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📂 GetOrders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 GetOrdersQuery.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 GetOrdersHandler.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 GetOrdersEndpoint.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📜 OrderDto.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📂 Products (New Feature)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📂 CreateProduct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 CreateProductCommand.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 CreateProductHandler.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┃ ┣ 📜 CreateProductEndpoint.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┣ 📂 Infrastructure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📂 Persistence</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📜 AppDbContext.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📜 DapperContext.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📂 Logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┃ ┣ 📜 LoggingMiddleware.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📜 DependencyInjection.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┣ 📂 API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📜 Program.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┣ 📂 BuildingBlocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┣ 📜 BuildingBlocks.csproj (All package references)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┣ 📂 tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┣ 📂 FeatureTests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📜 OrderTests.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┃ ┣ 📜 ProductTests.cs (New Feature Test)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┃ ┣ 📜 Tests.csproj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ┣ 📜 README.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-conclusion">🏁 Conclusion<a href="#-conclusion" class="hash-link" aria-label="Direct link to 🏁 Conclusion" title="Direct link to 🏁 Conclusion">​</a></h2>
<p>To make this project robust and scalable:</p>
<ul>
<li>✅ <strong>Follow Vertical Slice Architecture</strong> to keep features modular and maintainable.</li>
<li>📢 <strong>Use MediatR for CQRS</strong> to separate commands and queries.</li>
<li>🏗 <strong>Centralize dependencies in Building Blocks</strong> for easier microservices transition.</li>
<li>🔥 <strong>Leverage EF Core for writing and Dapper for optimized reads</strong> for best performance.</li>
<li>📊 <strong>Implement structured logging with Serilog</strong> to track requests and errors.</li>
<li>✅ <strong>Write unit tests using XUnit &amp; FluentAssertions</strong> to ensure system reliability.</li>
<li>🏗 <strong>Use Dependency Injection for better maintainability and testing.</strong></li>
<li>⚡ <strong>Consider implementing caching mechanisms</strong> like Redis to improve performance.</li>
<li>🚨 <strong>Ensure proper error handling and middleware</strong> to handle exceptions gracefully.</li>
</ul>
<p>By following these principles, this project will be robust, maintainable, and ready for scaling into microservices if needed.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/RusselG21/CIBI_General_Documentation/docs/code-docs/restful-api/api-architecture.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/CIBI_General_Documentation/docs/code-docs/soap-api/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">📘 Code Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-introduction" class="table-of-contents__link toc-highlight">📌 Introduction</a></li><li><a href="#-required-packages-and-explanations" class="table-of-contents__link toc-highlight">📦 Required Packages and Explanations</a><ul><li><a href="#-install-required-packages" class="table-of-contents__link toc-highlight">📥 Install Required Packages</a></li><li><a href="#-carter" class="table-of-contents__link toc-highlight">🔥 <strong>Carter</strong></a></li><li><a href="#-mediatr--mediatrextensionsmicrosoftdependencyinjection" class="table-of-contents__link toc-highlight">📢 <strong>MediatR &amp; MediatR.Extensions.Microsoft.DependencyInjection</strong></a></li><li><a href="#-mapster--mapsterdependencyinjection" class="table-of-contents__link toc-highlight">🔄 <strong>Mapster &amp; Mapster.DependencyInjection</strong></a></li><li><a href="#-entity-framework-core" class="table-of-contents__link toc-highlight">🏗 <strong>Entity Framework Core</strong></a></li><li><a href="#-dapper" class="table-of-contents__link toc-highlight">⚡ <strong>Dapper</strong></a></li><li><a href="#-serilogaspnetcore" class="table-of-contents__link toc-highlight">📊 <strong>Serilog.AspNetCore</strong></a></li><li><a href="#-fluentassertions--xunit" class="table-of-contents__link toc-highlight">✅ <strong>FluentAssertions &amp; XUnit</strong></a></li></ul></li><li><a href="#-folder-structure" class="table-of-contents__link toc-highlight">📂 Folder Structure</a></li><li><a href="#-conclusion" class="table-of-contents__link toc-highlight">🏁 Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 CIBI Project, Inc. Built with CIBI developers.</div></div></div></footer></div>
</body>
</html>